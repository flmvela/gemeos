# Gemeos Project Guide

## Business Purpose

Gemeos is an **AI-powered learning platform** that supports different **learning domains** (e.g., Jazz piano, GMAT prep).  
Each client gets a dedicated instance of the platform, and only the learning domains they purchase are active.  

Our vision:
- Provide students with **adaptive learning paths** and real-time feedback.  
- Enable teachers/admins to **review, approve, or reject AI-generated suggestions** (concepts, learning goals, exercises).  
- Continuously **improve AI output quality** by learning from human feedback loops.  

---

## Core Data Architecture

The platform uses **Supabase** as the main database, and **Google Cloud (Pub/Sub, GCS, Vertex/Generative AI)** for the AI pipeline.  

### Key Entities

1. **Domains**
   - Represent a subject area (Jazz, GMAT, Physics).  
   - Each domain has its own set of **concepts, learning goals, and exercises**.  
   - Clients activate only the domains they need.

2. **Concepts**
   - Building blocks of knowledge within a domain.  
   - Organized in a **hierarchy (parent/child)**.  
   - Have additional **relationships** (e.g., *is related to*, *is prerequisite for*).  
   - Status workflow: `suggested → approved/rejected`.  
   - Source tracking: `ai` vs `human`.  

3. **Learning Goals**
   - Objectives tied to a concept.  
   - Generated by AI, refined by teachers.  
   - Include metadata: Bloom’s taxonomy level, difficulty, sequence.  
   - Same workflow + source tracking as concepts.

4. **Exercises**
   - Practical tasks for learners (quiz, piano exercise, problem set).  
   - Linked to learning goals and concepts.  
   - Will also follow the same workflow and feedback loops.  

---

## AI Pipeline on Google Cloud

1. **Preprocessor (domain-agnostic)**
   - Extracts text (or later MIDI/audio) from uploaded files.  
   - Saves into Supabase (`domain_extracted_files`).  
   - Publishes to Pub/Sub → triggers next step.

2. **Concept Chunker (domain-agnostic)**
   - Splits raw text into manageable chunks.  
   - Uses AI to propose **candidate concepts**.  
   - Inserts into Supabase (`concepts` table with status = `suggested`).  

3. **Concept Structurer (domain-agnostic, but guided by domain rules)**
   - Fetches **approved concepts**.  
   - Suggests **hierarchies** (parent/child) and stores in `suggested_concept_hierarchies`.  
   - Loads **domain-specific guidance** from GCS to tailor logic.  

4. **Learning Goal Generator**
   - Takes **concept text + guidance + examples**.  
   - Generates **learning goals** with Gemini.  
   - Stores them with `status = suggested`.  

5. **(Future) Exercise Generator**
   - Similar workflow for generating exercises tied to learning goals.  

---

## Feedback Loops (Human-in-the-Loop AI)

A **core principle** of Gemeos is that the AI continuously improves by learning from **teacher feedback**.  

- **Review Workflow**
  - Teachers approve/reject/edit AI-suggested items.  
  - Every decision is stored in Supabase with:
    - `status` (`approved`, `rejected`, `suggested`)
    - `source` (`ai`, `human`)
    - `created_by` (who made the decision)
  - For exercises, difficulty and sequencing can also be adjusted.

- **Memory for AI Prompts**
  - Approved goals → added to **positive examples** in future prompts.  
  - Rejected goals → added to **negative constraints** (“don’t suggest X”).  
  - Stored in GCS as updated **guidance files** (`guidance.md`, `examples.jsonl`).  
  - Each run of Gemini uses:
    - Domain-specific guidance
    - Positive examples (approved items)
    - Negative examples (rejected items)

- **Outcome**
  - Over time, the AI suggestions get closer to the teacher’s standards.  
  - Reduces teacher workload, increases trust in AI.  

---

## Why This Matters

- Teachers don’t just consume AI output, they **train the AI**.  
- The pipeline is **domain-agnostic**, but becomes **domain-specialized** through guidance files + feedback.  
- The system scales across any subject area while keeping human oversight at the center.  

---

## Next Steps for Development

- Ensure Supabase tables (`concepts`, `learning_goals`, `exercises`, `concept_relationships`) fully support:
  - `status`, `source`, `created_by`, `updated_at`
- Finalize **feedback ingestion** into guidance files in GCS.  
- Connect front-end (React/Next.js) with Supabase and Pub/Sub endpoints for:  
  - Uploading material  
  - Reviewing concepts/goals/exercises  
  - Triggering AI pipelines  

---

# TL;DR

Gemeos is a **human-in-the-loop AI learning platform**.  
The pipeline (Preprocessor → Chunker → Structurer → Goal/Exercise Generator) runs on Google Cloud, writing into Supabase.  
Teachers/admins provide feedback (approve/reject/edit), which updates **guidance files in GCS**, so that AI improves over time.  
This feedback loop is the **engine of adaptation and quality assurance**.